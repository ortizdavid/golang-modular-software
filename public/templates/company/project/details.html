{{ template "_partials/header-back" .}}

<div class="ui segment">
    <div class="ui right floated buttons">
        <a href="/company/projects" class="ui primary button">
            <i class="left arrow icon"></i>
            Return to List
        </a>
        <a href="/company/projects/{{.Project.UniqueId}}/edit" class="ui primary button">
            <i class="pencil icon"></i>
            Edit
        </a>
        <a href="/company/projects/{{.Project.UniqueId}}/delete" class="ui red button">
            <i class="trash alternate icon"></i>
            Delete
        </a>
    </div>
    <p><strong>ID:</strong> {{.Project.ProjectId}}</p>
    <p><strong>Project Name:</strong> {{.Project.ProjectName}}</p>
    <p><strong>Status:</strong> {{.Project.Status}}</p>
    <p><strong>Start Date:</strong> {{.Project.StartDate}}</p>
    <p><strong>End Date:</strong> {{.Project.EndDate}}</p>
    <p><strong>Company:</strong> {{.Project.CompanyName}}</p>
    <p><strong>Creation Date:</strong> {{.Project.CreatedAt}}</p>
    <p><strong>Last Update:</strong> {{.Project.UpdatedAt}}</p>
    <p><strong>Description:</strong> {{.Project.Description}}</p>

    <div class="ui divider"></div>
    <p><strong>Attachments: </strong>{{.CountAttachments}}</p>
    <div class="ui container"  align="right">
        <a href="/company/projects/{{.Project.UniqueId}}/add-attachment" class="ui primary button small">
            <i class="paperclip icon"></i>
            Add Attachment
        </a>
    </div>

    {{ if .CountAttachments }}
        <table class="ui selectable small table blue">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Attachment Name</th>
                    <th>Options</th>
                </tr>
            </thead>
            <tbody>
                {{ range .ProjectAttachments }}
                    <tr>
                        <td>{{.AttachmentId}}</td>
                        <td>{{.AttachmentName}}</td>
                        <td>
                            <a target="_blank" href="/company/projects/display-attachment/{{.UniqueId}}" class="ui icon button" data-tooltip="Display">
                                <i class="pdf file red blue icon"></i>
                            </a>
                            <a href="/company/projects/edit-attachment/{{.UniqueId}}" class="ui icon button" data-tooltip="Edit Info">
                                <i class="pencil blue icon"></i>
                            </a>
                            <a href="/company/projects/delete-attachment/{{.UniqueId}}" class="ui icon button" data-tooltip="Delete Attachment">
                                <i class="trash alternate red icon"></i>
                            </a>
                        </td>
                    </tr>
                {{ end }}
            </tbody>
        </table>
    {{ else }}
        <div class="ui warning message">
            No attachments found
        </div>
    {{ end }}
    
</div>

{{ template "_partials/footer-back" .}}
